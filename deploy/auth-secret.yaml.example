# Example Secret for authentication configuration
# Copy this file to auth-secret.yaml and fill in the values
#
# To generate a JWT secret:
#   openssl rand -base64 32
#
# To generate password hashes:
#   go run ./cmd/password-hash/main.go <password>
#
# Then create the secret:
#   kubectl create secret generic kubechronicle-auth \
#     --from-file=auth-secret.yaml \
#     --namespace kubechronicle
#
# Or use kubectl create secret directly:
#   kubectl create secret generic kubechronicle-auth \
#     --from-literal=jwt-secret="<your-jwt-secret>" \
#     --from-literal=users='{"admin":{"password":"$2a$10$...","roles":["admin","viewer"],"email":"admin@example.com"}}' \
#     --namespace kubechronicle

apiVersion: v1
kind: Secret
metadata:
  name: kubechronicle-auth
  namespace: kubechronicle
type: Opaque
stringData:
  jwt-secret: ""  # Generate with: openssl rand -base64 32
  users: |
    {
      "admin": {
        "password": "",  # Generate with: go run ./cmd/password-hash/main.go <password>
        "roles": ["admin", "viewer"],
        "email": "admin@example.com"
      },
      "viewer": {
        "password": "",  # Generate with: go run ./cmd/password-hash/main.go <password>
        "roles": ["viewer"]
      }
    }
